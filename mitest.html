<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MI ë‹¤ì¤‘ì§€ëŠ¥ ê²€ì‚¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .progress-bar-fill {
            transition: width 0.3s ease-in-out;
        }
        .custom-radio input[type="radio"] {
            display: none;
        }
        .custom-radio label {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            border: 1px solid #D1D5DB;
            transition: all 0.2s ease-in-out;
            text-align: center;
        }
        .custom-radio input[type="radio"]:checked + label {
            background-color: #3B82F6;
            color: white;
            border-color: #3B82F6;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="app" class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
        
        <!-- Start Screen -->
        <div id="start-screen" class="bg-white p-8 rounded-2xl shadow-lg text-center">
            <h1 class="text-3xl font-bold text-gray-800 mb-4">MI ë‹¤ì¤‘ì§€ëŠ¥ ì ì„± ë° ì§„ë¡œ ê²€ì‚¬</h1>
            <p class="text-gray-600 mb-6">ë³¸ ê²€ì‚¬ëŠ” ì—¬ëŸ¬ë¶„ì˜ ë‹¤ì¤‘ì§€ëŠ¥ì„ ì•Œì•„ë³´ê³  ì ì„±ì— ë§ëŠ” ì§„ë¡œë¥¼ íƒìƒ‰í•˜ëŠ” ë° ë„ì›€ì„ ì£¼ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. ì •ë‹µì€ ì—†ìœ¼ë‹ˆ, ê° ì§ˆë¬¸ì— ì†”ì§í•˜ê²Œ ë‹µë³€í•´ì£¼ì„¸ìš”.</p>
            <div class="max-w-md mx-auto">
                <input id="name" type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-3 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <input id="grade" type="text" placeholder="í•™ë…„/ë°˜ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 6í•™ë…„ 1ë°˜)" class="w-full px-4 py-3 border border-gray-300 rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <button id="start-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300 transform hover:scale-105">ê²€ì‚¬ ì‹œì‘í•˜ê¸°</button>
            </div>
        </div>

        <!-- Test Screen -->
        <div id="test-screen" class="hidden">
            <div class="mb-6">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-medium text-gray-700">ì§„í–‰ë¥ </span>
                    <span id="progress-text" class="text-sm font-medium text-blue-600">1 / 56</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full progress-bar-fill" style="width: 1.78%"></div>
                </div>
            </div>
            <div class="bg-white p-8 rounded-2xl shadow-lg">
                <div class="text-center mb-6">
                    <p class="text-lg font-semibold text-gray-500">ë¬¸í•­ <span id="question-number">1</span></p>
                    <h2 id="question-text" class="text-2xl font-bold text-gray-800 mt-2"></h2>
                </div>
                <div class="flex flex-wrap justify-center gap-2 sm:gap-4 custom-radio">
                    <div class="flex-1 min-w-[120px] sm:flex-none"><input type="radio" id="ans1" name="answer" value="1"><label for="ans1" class="block">1. ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤</label></div>
                    <div class="flex-1 min-w-[120px] sm:flex-none"><input type="radio" id="ans2" name="answer" value="2"><label for="ans2" class="block">2. ë³„ë¡œ ê·¸ë ‡ì§€ ì•Šë‹¤</label></div>
                    <div class="flex-1 min-w-[120px] sm:flex-none"><input type="radio" id="ans3" name="answer" value="3"><label for="ans3" class="block">3. ë³´í†µì´ë‹¤</label></div>
                    <div class="flex-1 min-w-[120px] sm:flex-none"><input type="radio" id="ans4" name="answer" value="4"><label for="ans4" class="block">4. ëŒ€ì²´ë¡œ ê·¸ë ‡ë‹¤</label></div>
                    <div class="flex-1 min-w-[120px] sm:flex-none"><input type="radio" id="ans5" name="answer" value="5"><label for="ans5" class="block">5. ë§¤ìš° ê·¸ë ‡ë‹¤</label></div>
                </div>
            </div>
            <div class="flex justify-between mt-8">
                <button id="prev-btn" class="bg-gray-300 text-gray-800 font-bold py-3 px-8 rounded-lg hover:bg-gray-400 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">ì´ì „</button>
                <button id="next-btn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition duration-300">ë‹¤ìŒ</button>
                <button id="submit-btn" class="hidden bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition duration-300">ê²°ê³¼ ë³´ê¸°</button>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden bg-white p-8 rounded-2xl shadow-lg">
            <div class="text-center border-b pb-6 mb-6">
                <h1 class="text-3xl font-bold text-gray-800">MI ë‹¤ì¤‘ì§€ëŠ¥ ê²€ì‚¬ ê²°ê³¼</h1>
                <p class="text-lg text-gray-600 mt-2"><span id="result-name" class="font-semibold"></span>ë‹˜ì˜ ê°•ì  ì§€ëŠ¥ê³¼ ì¶”ì²œ ì§„ë¡œ</p>
                <p id="result-grade" class="text-md text-gray-500"></p>
            </div>

            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-xl font-bold text-gray-800 mb-4 text-center">ë‹¤ì¤‘ì§€ëŠ¥ ë¶„ì„ ê·¸ë˜í”„</h2>
                    <canvas id="miChart"></canvas>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-gray-800 mb-4">ë‚˜ì˜ ê°•ì  ì§€ëŠ¥ TOP 3</h2>
                    <div id="top-intelligences" class="space-y-4"></div>
                </div>
            </div>

            <div id="detailed-results" class="mt-10">
                <h2 class="text-2xl font-bold text-gray-800 text-center mb-6">ê°•ì  ì§€ëŠ¥ë³„ ìƒì„¸ ì„¤ëª… ë° ì¶”ì²œ ì§ì—…</h2>
                <div id="intelligence-details-container" class="space-y-8"></div>
            </div>
            
            <div id="career-compass-section" class="mt-12">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800">ë‚˜ì˜ ì§„ë¡œ ë‚˜ì¹¨ë°˜ ğŸ§­</h2>
                    <p class="text-gray-600 mt-2">ê°•ì  ì§€ëŠ¥ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ë§ì¶¤í˜• ì§„ë¡œ íƒìƒ‰ ê°€ì´ë“œì…ë‹ˆë‹¤.</p>
                </div>
                <div id="major-recommendation-container" class="bg-gray-50 p-6 rounded-2xl">
                    <!-- Recommendations will be inserted here -->
                </div>
            </div>

            <div class="text-center mt-10">
                <button onclick="window.print()" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition duration-300">ê²°ê³¼ ì¸ì‡„í•˜ê¸°</button>
                <button onclick="location.reload()" class="ml-4 bg-gray-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-gray-600 transition duration-300">ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        const questions = [{"text":"ì·¨ë¯¸ë‚˜ ìƒí™œë¡œ ì•…ê¸° ì—°ì£¼ë‚˜ ìŒì•…ê°ìƒì„ ì¦ê¸´ë‹¤."},{"text":"ìš´ë™ê²½ê¸°ë¥¼ ë³´ë©´ ìš´ë™ì„ ìˆ˜ë“¤ì˜ ì¥ë‹¨ì ì„ ì˜ ì§‘ì–´ë‚¸ë‹¤."},{"text":"ì–´ë–¤ ì¼ì´ë“  ì‹¤í—˜í•˜ê³  ê²€ì¦í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤."},{"text":"ì†ìœ¼ë¡œ ë¬¼ê±´ì„ ë§Œë“¤ê³ . ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒë³´ë‹¤ ì–´íœ˜ë ¥ì´ í’ë¶€í•œ í¸ì´ë‹¤."},{"text":"ì¹œêµ¬ë‚˜ ê°€ì¡±ë“¤ì˜ ê³ ë¯¼ê±°ë¦¬ë¥¼ ë“¤ì–´ ì£¼ê±°ë‚˜ í•´ê²°í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤."},{"text":"ë‚˜ ìì‹ ì„ ë˜ëŒì•„ë³´ê³ , ì•ìœ¼ë¡œì˜ ìƒí™œì„ ê³„íší•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤."},{"text":"ìë™ì°¨ì— ê´€ì‹¬ì´ ë§ê³ , ê°ê°ì˜ ê³µí†µì ê³¼ ì°¨ì´ì ì„ ì•Œê³  ìˆë‹¤."},{"text":"ì•…ë³´ë¥¼ ë³´ë©´ ê·¸ ê³¡ì˜ ë©œë¡œë””ë¥¼ ì–´ëŠ ì •ë„ ì•Œ ìˆ˜ ìˆë‹¤."},{"text":"í‰ì†Œì— ëª¸ì„ ì›€ì§ì´ë©° í™œë™í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤."},{"text":"í•™êµ ë‹¤ë‹ ë•Œ ìˆ˜í•™ì´ë‚˜ ê³¼í•™ê³¼ëª©ì„ ì¢‹ì•„í–ˆë‹¤."},{"text":"ì–´ë¦¼ì§ì‘ìœ¼ë¡œë„ ê¸¸ì´ë‚˜ ë„“ì´ë¥¼ ë¹„êµì  ì˜ ì•Œì•„ë§íŒë‹¤."},{"text":"ê¸€ì´ë‚˜ ë¬¸ì„œë¥¼ ì½ì„ ë•Œ ë¬¸ë²•ì ìœ¼ë¡œ ì–´ìƒ‰í•œ ë¬¸ì¥ì„ ì˜ ì°¾ì•„ë‚¸ë‹¤."},{"text":"ì§‘ì—ì„œ ë¬¸ì œëŠ” ì™œ ë°œìƒí•˜ê³  ì–´ë–»ê²Œ í•´ê²°í•˜ë©´ ì¢‹ì„ì§€ ì•Œê³  ìˆë‹¤."},{"text":"ë‚˜ì˜ ê±´ê°• ìƒíƒœë‚˜ ê¸°ë¶„, ì»¨ë””ì…˜ì„ ì •í™•íˆ íŒŒì•…í•  ìˆ˜ ìˆë‹¤."},{"text":"ì˜·ì´ë‚˜ ê°€ë°©ì„ ë³´ë©´ ì–´ë–¤ ë¸Œëœë“œì¸ì§€ ë°”ë¡œ ì•Œì•„ë§í ìˆ˜ ìˆë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒì˜ ì—°ì£¼ë‚˜ ë…¸ë˜ë¥¼ ë“¤ìœ¼ë©´ ì–´ë–¤ ì ì´ ë¶€ì¡±í•œì§€ ì•Œ ìˆ˜ ìˆë‹¤."},{"text":"ì–´ë–¤ ìš´ë™ì´ë¼ë„ í•œë‘ ë²ˆ í•´ë³´ë©´ ì˜ í•  ìˆ˜ ìˆë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒì˜ ë§ ì†ì—ì„œ ë¹„ë…¼ë¦¬ì ì¸ ì ì„ ì˜ ì°¾ì•„ë‚¸ë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒì˜ ê·¸ë¦¼ì„ ë³´ê³  í‰ê°€ë¥¼ ì˜ í•  ìˆ˜ ìˆë‹¤."},{"text":"ë‚˜ì˜ ê¿ˆì€ ì‘ê°€ë‚˜ ì•„ë‚˜ìš´ì„œë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒë“¤ë¡œë¶€í„° ë‹¤ì •ë‹¤ê°í•˜ë‹¤ëŠ” ì†Œë¦¬ë¥¼ ìì£¼ ë“£ëŠ”ë‹¤."},{"text":"ë‚´ ìƒê°ì´ë‚˜ ê°ì •ì„ ìƒí™©ì— ë§ê²Œ ì˜ í†µì œí•˜ê³  ì¡°ì ˆí•œë‹¤."},{"text":"ë™ë¬¼ì´ë‚˜ ì‹ë¬¼ì— ê´€í•˜ì—¬ ë§ì€ ì •ë³´ë¥¼ ì•Œê³  ìˆë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒê³¼ ë…¸ë˜í•  ë•Œ í™”ìŒì„ ì˜ ë„£ëŠ”ë‹¤."},{"text":"ìš´ë™ì„ ì˜í•œë‹¤ëŠ” ë§ì„ ìì£¼ ë“£ëŠ”ë‹¤."},{"text":"í•™êµìƒí™œì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì ˆì°¨ì™€ ë°©ë²•ì„ ì˜ ì•Œê³  ìˆë‹¤."},{"text":"ë‚´ ë°©ì´ë‚˜ êµì‹¤ì„ ê¾¸ë°€ ë•Œ, ì–´ë–¤ ì¬ë£Œë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ê³  ì–´ë–»ê²Œ ë°°ì¹˜í•´ì•¼ í•  ì§€ ì•Œì•„ë‚¸ë‹¤."},{"text":"ê¸€ì„ ì¡°ë¦¬ ìˆê³  ì„¤ë“ë ¥ ìˆê²Œ ì“´ë‹¤ëŠ” ë§ì„ ìì£¼ ë“£ëŠ”ë‹¤."},{"text":"ì¹œêµ¬ë‚˜ ì–´ë¥¸ë“¤ì˜ ê¸°ë¶„ì„ ì˜ íŒŒì•…í•˜ê³  ì ì ˆí•˜ê²Œ ëŒ€ì²˜í•œë‹¤."},{"text":"í‰ì†Œì— ë‚´ ëŠ¥ë ¥ì´ë‚˜ ì¬ëŠ¥ì„ ê³„ë°œí•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê³  ìˆë‹¤."},{"text":"ë™ë¬¼ì´ë‚˜ ì‹ë¬¼ì„ ì¢‹ì•„í•˜ê³  ì˜ ëŒë³¸ë‹¤."},{"text":"ì•…ê¸°ë¥¼ ì—°ì£¼í•  ë•Œ ê³¡ì˜ ìŒì •, ë¦¬ë“¬, ë¹ ë¥´ê¸°, ë¶„ìœ„ê¸°ë¥¼ ì •í™•í•˜ê²Œ í‘œí˜„í•œë‹¤."},{"text":"ëœ¨ê°œì§ˆì´ë‚˜ ì¡°ê°, ì¡°ë¦½ê³¼ ê°™ì´ ì„¬ì„¸í•œ ì†ë†€ë¦¼ì´ í•„ìš”í•œ í™œë™ì„ ì˜ í•  ìˆ˜ ìˆë‹¤."},{"text":"ë¬¼ê±´ì˜ ê°€ê²©ì´ë‚˜ ì€í–‰ì´ì ë“±ì„ ì˜ ê³„ì‚°í•œë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒìœ¼ë¡œë¶€í„° ê·¸ë¦¼ ê·¸ë¦¬ê¸°ë‚˜ ë§Œë“¤ê¸°ë¥¼ ì˜í•œë‹¤ê³  ì¹­ì°¬ ë°›ì€ ì ì´ ìˆë‹¤."},{"text":"ì±…ì´ë‚˜ ì‹ ë¬¸ì˜ ì‚¬ì„¤ì„ ì½ì„ ë•Œ ê·¸ ë‚´ìš©ì„ ì˜ ì´í•´í•œë‹¤."},{"text":"ê°€ì¡±ì´ë‚˜ í•™êµì¹œêµ¬, ì„ ë°°, í›„ë°° ë“± ëˆ„êµ¬ì™€ë„ ì˜ ì§€ë‚¸ë‹¤."},{"text":"ë‚´ ì¼ì •ì„ ë‹¤ì´ì–´ë¦¬ì— ì •ë¦¬í•˜ëŠ” ë“± ê·œì¹™ì ì¸ ìƒí™œì„ ìœ„í•´ ë…¸ë ¥í•œë‹¤."},{"text":"ë™ì‹ë¬¼ê³¼ ê´€ë ¨ëœ ì§ì—…ì— ì¢…ì‚¬í•˜ê³  ì‹¶ë‹¤."},{"text":"ì–´ë–¤ ì•…ê¸°ë¼ë„ ì—°ì£¼ë²•ì„ ì‰½ê²Œ ë°°ìš´ë‹¤."},{"text":"ê°œê·¸ë§¨ì´ë‚˜ íƒ¤ëŸ°íŠ¸, ì£¼ë³€ ì‚¬ëŒë“¤ì˜ í–‰ë™ì„ ì˜ í‰ë‚´ ë‚¼ ìˆ˜ ìˆë‹¤."},{"text":"ì–´ë–¤ ê²ƒì„ ì•”ê¸°í•  ë•Œ ë¬´ì‘ì • ì™¸ìš°ê¸°ë³´ë‹¤ëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ ì´í•´í•˜ì—¬ ì•”ê¸°í•˜ê³¤ í•œë‹¤."},{"text":"ìƒˆë¡œìš´ ì§€ì‹ì„ ìŠµë“í•  ë•Œ ê·¸ë¦¼ì´ë‚˜ ê°œë… ì§€ë„ë¥¼ ê·¸ë ¤ ê°€ë©° ì™¸ìš´ë‹¤."},{"text":"êµ­ì–´ ì‹œê°„ì´ë‚˜ ê¸€ì“°ê¸° ì‹œê°„ì„ ì¢‹ì•„í•œë‹¤."},{"text":"ë‚´ê°€ ì†í•œ ì§‘ë‹¨ì—ì„œ ë‚´ê°€ í•´ì•¼ í•  ì¼ì„ ì˜ ì°¾ì•„ì„œ ìˆ˜í–‰í•œë‹¤."},{"text":"ì–´ë–¤ ì¼ì— ì‹¤íŒ¨í–ˆì„ ë•Œ ê·¸ ì›ì¸ì„ ì² ì €íˆ ë¶„ì„í•´ì„œ, ë‹¤ìŒì—ëŠ” ê·¸ëŸ° ì¼ì´ ìƒê¸°ì§€ ì•Šë„ë¡ ë…¸ë ¥í•œë‹¤."},{"text":"ë™ì‹ë¬¼ì´ë‚˜ íŠ¹ì • ì‚¬ë¬¼ì´ ê°–ëŠ” íŠ¹ì§•ì„ ë¶„ì„í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤."},{"text":"ë¹ˆì¹¸ì„ ì£¼ê³  ì–´ë–¤ ê³¡ì„ ì±„ì›Œ ë³´ë¼ê³  í•˜ë©´ ë°•ìì™€ ì „ì²´ ê³¡ì˜ ë¶„ìœ„ê¸°ì— ë§ê²Œ ì±„ìš¸ ìˆ˜ ìˆë‹¤."},{"text":"ì—°ê¸°ë‚˜ ì¶¤ìœ¼ë¡œ ë‚´ê°€ ì „í•˜ê³ ì í•˜ëŠ” ê²ƒì„ ì˜ í‘œí˜„í•  ìˆ˜ ìˆë‹¤."},{"text":"ì–´ë–¤ ë¬¸ì œê°€ ìƒê¸°ë©´ ì„±ê¸‰í•˜ê²Œ ê²°ë¡ ì„ ë‚´ë¦¬ê¸°ë³´ë‹¤ëŠ” ì—¬ëŸ¬ ê°€ì§€ë¡œ ê·¸ ì›ì¸ì„ ë°íˆë ¤ê³  í•œë‹¤."},{"text":"ê³ ì¥ ë‚œ ê¸°ê³„ë‚˜ ë¬¼ê±´ì„ ì˜ ê³ ì¹œë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒì´ í•˜ëŠ” ë§ì˜ í•µì‹¬ì„ ì˜ íŒŒì•…í•œë‹¤."},{"text":"ë‹¤ë¥¸ ì‚¬ëŒë“¤ ì•ì—ì„œ ë°œí‘œë‚˜ ì—°ì„¤ì„ ì˜í•œë‹¤."},{"text":"ì•ìœ¼ë¡œ ì–´ë–»ê²Œ ì„±ê³µí•´ì•¼ í• ì§€ì— ëŒ€í•´ ëšœë ·í•œ ì‹ ë…ì„ ê°€ì§€ê³  ìˆë‹¤."},{"text":"í™˜ê²½ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ë“¤ì„ ë§ì´ ì•Œê³  ìˆë‹¤."}];
        const intelligenceMap = {'ìŒì•…':[1,9,17,25,33,41,49],'ì‹ ì²´ìš´ë™':[2,10,18,26,34,42,50],'ë…¼ë¦¬ìˆ˜í•™':[3,11,19,27,35,43,51],'ê³µê°„':[4,12,20,28,36,44,52],'ì–¸ì–´':[5,13,21,29,37,45,53],'ì¸ê°„ì¹œí™”':[6,14,22,30,38,46,54],'ìê¸°ì„±ì°°':[7,15,23,31,39,47,55],'ìì—°ì¹œí™”':[8,16,24,32,40,48,56]};
        const intelligenceDetails = {'ìŒì•…':{color:'bg-red-100',borderColor:'border-red-500',features:['ì†Œë¦¬, ë¦¬ë“¬, ë©œë¡œë”” ë“± ìŒì•…ì  íŒ¨í„´ì— ë¯¼ê°í•¨','ìì£¼ ë…¸ë˜ë¥¼ í¥ì–¼ê±°ë¦¬ê±°ë‚˜ ë¦¬ë“¬ì— ë§ì¶° ëª¸ì„ ì›€ì§ì„','ìŒì— ëŒ€í•œ ê°ê°ì´ ì¢‹ê³ , ìŒì¡°ì™€ ì†Œë¦¬ íŒ¨í„´ì„ ì˜ ê¸°ì–µí•¨'],jobs:'ìŒì•…ê°€(ì„±ì•…ê°€, ì—°ì£¼ê°€, ì‘ê³¡ê°€), ìŒì•…ì¹˜ë£Œì‚¬, ìŒí–¥ê¸°ìˆ ì, ìŒì•…í‰ë¡ ê°€, DJ, ê°€ìˆ˜, ëŒ„ì„œ, ìŒì•…êµì‚¬, ìŒë°˜ì œì‘ì, ì˜í™” ìŒì•… ì‘ê³¡ê°€'},'ì‹ ì²´ìš´ë™':{color:'bg-orange-100',borderColor:'border-orange-500',features:['ëª¸ì˜ ê· í˜• ê°ê°ê³¼ ì†-ëˆˆ í˜‘ì‘ë ¥ì´ ë›°ì–´ë‚¨','ì œìŠ¤ì²˜ë‚˜ ëª¸ì§“ì„ í†µí•´ ìì‹ ì„ í‘œí˜„í•˜ëŠ” ë° ëŠ¥ìˆ™í•¨','ë„êµ¬ë‚˜ ë¬¼ì²´ë¥¼ ë‹¤ë£¨ê³  ì¡°ì ˆí•˜ëŠ” ë° ë¹ ë¥´ê²Œ ì ì‘í•¨'],jobs:'ìš´ë™ì„ ìˆ˜, ë°°ìš°, ë¬´ìš©ê°€, ì¡°ê°ê°€, ì²´ìœ¡êµì‚¬, ê²½ì°°, ì†Œë°©ê´€, ì •ë¹„ì‚¬, ì™¸ê³¼ì˜ì‚¬, ê±´ì¶•ê°€, ì¹´ë ˆì´ì„œ, íŒŒì¼ëŸ¿'},'ë…¼ë¦¬ìˆ˜í•™':{color:'bg-yellow-100',borderColor:'border-yellow-500',features:['ë‹¤ì–‘í•œ í¼ì¦ ê²Œì„ì„ ì¦ê¸°ê³ , ê·œì¹™ì— ê¸°ë°˜í•œ í™œë™ì„ ì„ í˜¸í•¨','ì‚¬ë¬¼ì˜ ì‘ë™ ì›ë¦¬ì— ê´€ì‹¬ì´ ë§ê³  ë¶„ì„ì ìœ¼ë¡œ ë¬¸ì œì— ì ‘ê·¼í•¨','ë…¼ë¦¬ì ìœ¼ë¡œ ìƒê°í•˜ê³ , ìˆ˜ë‚˜ ê¸°í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•¨'],jobs:'ì—”ì§€ë‹ˆì–´, ìˆ˜í•™ì, ê³¼í•™ì, ì€í–‰ì›, ì»´í“¨í„° í”„ë¡œê·¸ë˜ë¨¸, íšŒê³„ì‚¬, ì˜ì‚¬, ë²•ì¡°ì¸, íƒì •, ì •ë³´ê¸°ê´€ì›'},'ê³µê°„':{color:'bg-green-100',borderColor:'border-green-500',features:['ê·¸ë¦¼ ê·¸ë¦¬ê¸°ë¥¼ ì˜í•˜ê³  ì‹œê°ì ì¸ ì„¸ë¶€ ë¬˜ì‚¬ì— ë›°ì–´ë‚¨','ì´ë¯¸ì§€ë¡œ ì¥ì†Œë¥¼ ê¸°ì–µí•˜ê³ , ì§€ë„ë¥¼ í•´ì„í•˜ëŠ” ëŠ¥ë ¥ì´ ì¢‹ìŒ','ê¸°ê³„ë¥¼ ë‹¤ë£¨ê±°ë‚˜ ì‚¬ë¬¼ì„ ë¶„í•´í•˜ê³  ì¡°ë¦½í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•¨'],jobs:'ë””ìì´ë„ˆ, ê±´ì¶•ê°€, í™”ê°€, ì¡°ê°ê°€, í•­í•´ì‚¬, ì‚¬ì§„ì‚¬, íŒŒì¼ëŸ¿, ì• ë‹ˆë©”ì´í„°, ê³µì˜ˆê°€, ì™¸ê³¼ì˜ì‚¬, ìš”ë¦¬ì‚¬'},'ì–¸ì–´':{color:'bg-blue-100',borderColor:'border-blue-500',features:['ë§í•˜ê¸°ì™€ ê¸€ì“°ê¸°ë¥¼ ì¦ê¸°ê³ , ì–´íœ˜ë ¥ì´ í’ë¶€í•¨','ìƒˆë¡œìš´ ì–¸ì–´ë¥¼ ì‰½ê²Œ ë°°ìš°ê³ , ë‹¨ì–´ ê²Œì„ì´ë‚˜ ë§ì¥ë‚œì„ ì¦ê¹€','ë‹¤ë¥¸ ì‚¬ëŒì˜ ë§ì˜ í•µì‹¬ì„ ì˜ íŒŒì•…í•˜ê³ , ë…¼ë¦¬ì ìœ¼ë¡œ ìì‹ ì˜ ìƒê°ì„ í‘œí˜„í•¨'],jobs:'ì‘ê°€, ê¸°ì, ì•„ë‚˜ìš´ì„œ, ë³€í˜¸ì‚¬, ì •ì¹˜ê°€, êµì‚¬, ì™¸êµê´€, ë²ˆì—­ê°€, í†µì—­ì‚¬, ê°œê·¸ë§¨, ê²½ì˜ì, ì‹œì¸'},'ì¸ê°„ì¹œí™”':{color:'bg-indigo-100',borderColor:'border-indigo-500',features:['ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì´ë‚˜ ê¸°ë¶„ì— ë¯¼ê°í•˜ê³  ê³µê°ì„ ì˜í•¨','ë˜ë˜ ì‚¬ì´ì—ì„œ ì¸ê¸°ê°€ ë§ê³ , ë¦¬ë”ì‹­ì´ ìˆìŒ','ë‹¤ë¥¸ ì‚¬ëŒê³¼ í˜‘ë™í•˜ì—¬ ì¼í•˜ëŠ” ë° ëŠ¥ìˆ™í•˜ê³ , ì¤‘ì¬ì ì—­í• ì„ ì˜í•¨'],jobs:'CEO, ì‚¬íšŒìš´ë™ê°€, êµì‚¬, ìƒë‹´ê°€, ì •ì¹˜ê°€, ì˜ì—…ì‚¬ì›, ê°„í˜¸ì‚¬, ì‚¬íšŒë³µì§€ì‚¬, í˜¸í…”ë¦¬ì–´, ì›¨ë”©í”Œë˜ë„ˆ, ì»¨ì„¤í„´íŠ¸'},'ìê¸°ì„±ì°°':{color:'bg-purple-100',borderColor:'border-purple-500',features:['ìì‹ ì˜ ê°ì •, ê°•ì , ì•½ì ì„ ëª…í™•í•˜ê²Œ ì¸ì‹í•¨','ìŠ¤ìŠ¤ë¡œ ë™ê¸°ë¶€ì—¬ë¥¼ ì˜í•˜ê³ , ì ì ˆí•œ ëª©í‘œë¥¼ ì„¤ì •í•˜ì—¬ ë…¸ë ¥í•¨','ì‹¤íŒ¨ì˜ ì›ì¸ì„ ë¶„ì„í•˜ê³  ë‹¤ìŒì„ ìœ„í•´ ê³„íší•˜ëŠ” ë“± ìê¸° ì„±ì°°ì„ ì¦ê¹€'],jobs:'ì² í•™ì, ê¸°ì—…ê°€, ì„±ì§ì, ì‹¬ë¦¬í•™ì, ì‘ê°€, ë°œëª…ê°€, ì •ì‹ ë¶„ì„í•™ì, ì˜ˆìˆ ì¸, ì‹¬ë¦¬ì¹˜ë£Œì‚¬, ì—°êµ¬ì›'},'ìì—°ì¹œí™”':{color:'bg-pink-100',borderColor:'border-pink-500',features:['ë™ì‹ë¬¼ì— ê´€ì‹¬ì´ ë§ê³ , ìì—° í™˜ê²½ì„ ì„ í˜¸í•¨','ìì—°ë¬¼ì„ ê´€ì°°í•˜ê³  íŠ¹ì§•ì„ ë¶„ì„í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•¨','í™”ë¶„ì´ë‚˜ ë™ë¬¼ì„ ëŒë³´ëŠ” ë° ì—´ì •ì´ ìˆê³ , í™˜ê²½ ë¬¸ì œì— ê´€ì‹¬ì´ ë§ìŒ'],jobs:'ì˜ì‚¬, ìˆ˜ì˜ì‚¬, ì¡°ë¦¬ì‚¬, ë™ë¬¼ ì¡°ë ¨ì‚¬, ì‹ë¬¼í•™ì, ìƒë¬¼í•™ì, ì²œë¬¸í•™ì, ê³ ê³ í•™ì, í™˜ê²½ ìš´ë™ê°€, ë†ì¥ ìš´ì˜ì, ì›ì˜ˆê°€'}};
        const conversionTable = {7:0.0,8:3.6,9:7.1,10:10.7,11:14.9,12:17.9,13:21.4,14:25.0,15:28.6,16:32.1,17:35.7,18:39.9,19:42.9,20:46.4,21:50.0,22:53.6,23:57.1,24:60.7,25:64.3,26:67.9,27:71.4,28:75.0,29:78.6,30:82.1,31:85.7,32:89.3,33:92.9,34:96.4,35:100.0};
        
        // --- ACCURATE & BENCHMARKED CareerData ---
        const careerData = {
            'ì»´í“¨í„°ê³µí•™Â·ì†Œí”„íŠ¸ì›¨ì–´':{intelligences:['ë…¼ë¦¬ìˆ˜í•™','ê³µê°„'],subjects:{core:['ë¯¸ì ë¶„','í™•ë¥ ê³¼ í†µê³„','ê¸°í•˜'],recommended:['ë¬¼ë¦¬í•™â… ','ì •ë³´'],career:['ì‹¬í™”ìˆ˜í•™â… Â·â…¡','í”„ë¡œê·¸ë˜ë°','ì •ë³´í†µì‹ ']},books:['ê±°ì˜ ëª¨ë“  ITì˜ ì—­ì‚¬','ê³¼í•™ì´ í•„ìš”í•œ ì‹œê°„','ë©”íƒ€ë²„ìŠ¤','ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ë°°ìš°ëŠ” ì¸ê³µì§€ëŠ¥ ìŠ¤íƒ€íŠ¸']},
            'í™”í•™ê³µí•™Â·ì‹ ì†Œì¬ê³µí•™':{intelligences:['ë…¼ë¦¬ìˆ˜í•™','ìì—°ì¹œí™”','ê³µê°„'],subjects:{core:['ë¯¸ì ë¶„','í™”í•™â… ','ë¬¼ë¦¬í•™â… '],recommended:['í™”í•™â…¡','ë¬¼ë¦¬í•™â…¡','ìƒëª…ê³¼í•™â… '],career:['ì‹¬í™”ìˆ˜í•™â… ','í™”í•™ì‹¤í—˜','ë¬¼ë¦¬í•™ì‹¤í—˜','ìœµí•©ê³¼í•™']},books:['ë¯¸ìˆ ê´€ì— ê°„ í™”í•™ì','ë‚˜ë…¸ í™”í•™','ë¶„ì ì¡°ê°ê°€ë“¤','ê±±ì • ë§ì€ ì–´ë¥¸ë“¤ì„ ìœ„í•œ í™”í•™ ì´ì•¼ê¸°']},
            'ìˆ˜í•™ê³¼':{intelligences:['ë…¼ë¦¬ìˆ˜í•™'],subjects:{core:['ë¯¸ì ë¶„','í™•ë¥ ê³¼ í†µê³„','ê¸°í•˜'],recommended:['ë¬¼ë¦¬í•™â… ','ê²½ì œ'],career:['ì‹¬í™”ìˆ˜í•™â… Â·â…¡','ê²½ì œìˆ˜í•™','ì •ë³´ê³¼í•™']},books:['ìˆ˜í•™ì˜ ì“¸ëª¨','ìˆ˜í•™ì´ í•„ìš”í•œ ìˆœê°„','ì•Œê³ ë¦¬ì¦˜, ì¸ìƒì„ ê³„ì‚°í•˜ë‹¤','AI ì‹œëŒ€ì˜ ìˆ˜í•™']},
            'ìƒëª…ê³¼í•™ê³¼':{intelligences:['ìì—°ì¹œí™”','ë…¼ë¦¬ìˆ˜í•™'],subjects:{core:['ìƒëª…ê³¼í•™â… ','í™”í•™â… ','ë¯¸ì ë¶„'],recommended:['ìƒëª…ê³¼í•™â…¡','í™”í•™â…¡'],career:['ê³ ê¸‰ ìƒëª…ê³¼í•™','ê³ ê¸‰ í™”í•™','ìƒíƒœì™€ í™˜ê²½']},books:['ì‚¬ë¼ì ¸ ê°€ëŠ” ìŒì‹ë“¤','ì´ê¸°ì  ìœ ì „ì','ì½”ìŠ¤ëª¨ìŠ¤','ìƒëª…ì´ë€ ë¬´ì—‡ì¸ê°€']},
            'ì˜ì˜ˆê³¼':{intelligences:['ìì—°ì¹œí™”','ë…¼ë¦¬ìˆ˜í•™','ì¸ê°„ì¹œí™”'],subjects:{core:['ìƒëª…ê³¼í•™â… ','í™”í•™â… ','ë¯¸ì ë¶„'],recommended:['ìƒëª…ê³¼í•™â…¡','í™”í•™â…¡'],career:['ê³ ê¸‰ ìƒëª…ê³¼í•™','ê³ ê¸‰ í™”í•™','ìƒíƒœì™€ í™˜ê²½','ë³´ê±´']},books:['ë‚˜ëŠ” ê³ ë°±í•œë‹¤, í˜„ëŒ€ì˜í•™ì„','ëˆ„êµ¬ ë¨¼ì € ì‚´ë ¤ì•¼ í• ê¹Œ?','10ëŒ€ì˜ ë‡Œ','ì˜í•™, ì¸ë¬¸ìœ¼ë¡œ ì¹˜ìœ í•˜ë‹¤']},
            'ê²½ì œí•™ê³¼':{intelligences:['ë…¼ë¦¬ìˆ˜í•™','ì¸ê°„ì¹œí™”','ìê¸°ì„±ì°°'],subjects:{core:['í™•ë¥ ê³¼ í†µê³„','ë¯¸ì ë¶„','ì‚¬íšŒÂ·ë¬¸í™”','ê²½ì œ'],recommended:['ì •ì¹˜ì™€ ë²•','ì„¸ê³„ì‚¬'],career:['ê²½ì œìˆ˜í•™','ì‚¬íšŒë¬¸ì œ íƒêµ¬','ì •ë³´']},books:['ë¶€ì˜ ì‹œë‚˜ë¦¬ì˜¤','ê²½ì œí•™ ì½˜ì„œíŠ¸','ì£½ì€ ê²½ì œí•™ìì˜ ì‚´ì•„ìˆëŠ” ì•„ì´ë””ì–´','ìë³¸ì£¼ì˜']},
            'ë¯¸ë””ì–´ì»¤ë®¤ë‹ˆì¼€ì´ì…˜':{intelligences:['ì–¸ì–´','ì¸ê°„ì¹œí™”','ìê¸°ì„±ì°°'],subjects:{core:['í™”ë²•ê³¼ ì‘ë¬¸','ì–¸ì–´ì™€ ë§¤ì²´','ì‚¬íšŒÂ·ë¬¸í™”'],recommended:['ì„¸ê³„ì‚¬','ì •ì¹˜ì™€ ë²•','ìœ¤ë¦¬ì™€ ì‚¬ìƒ'],career:['ë§¤ì²´ ë¯¸ìˆ ','ì‚¬íšŒë¬¸ì œ íƒêµ¬','ì •ë³´']},books:['ì—¬ë¡ ','ë¯¸ë””ì–´ ë¦¬í„°ëŸ¬ì‹œ','ìƒê°ì˜ íƒ„ìƒ','ë„ë‘‘ë§ì€ ì§‘ì¤‘ë ¥']},
            'ì‹¬ë¦¬í•™ê³¼':{intelligences:['ìê¸°ì„±ì°°','ì¸ê°„ì¹œí™”','ì–¸ì–´'],subjects:{core:['ì‚¬íšŒÂ·ë¬¸í™”','ìƒí™œê³¼ ìœ¤ë¦¬','í™•ë¥ ê³¼ í†µê³„'],recommended:['ì˜ì–´â… ','ìƒëª…ê³¼í•™â… '],career:['ë…¼ë¦¬í•™','êµìœ¡í•™','ë³´ê±´']},books:['ë§ˆìŒì˜ ì—¬ì„¯ ì–¼êµ´','ë‹¹ì‹ ì´ ì•Œë˜ MBTIëŠ” ì§„ì§œ MBTIê°€ ì•„ë‹ˆë‹¤','ì„¤ë“ì˜ ì‹¬ë¦¬í•™','ë¯¸ì›€ë°›ì„ ìš©ê¸°']},
            'êµ­ì–´êµìœ¡ê³¼':{intelligences:['ì–¸ì–´','ì¸ê°„ì¹œí™”','ìê¸°ì„±ì°°'],subjects:{core:['í™”ë²•ê³¼ ì‘ë¬¸','ì–¸ì–´ì™€ ë§¤ì²´','ë…ì„œ'],recommended:['ì‚¬íšŒÂ·ë¬¸í™”','ìƒí™œê³¼ ìœ¤ë¦¬'],career:['ê³ ì „ ì½ê¸°','êµìœ¡í•™','ì‹¬ë¦¬í•™']},books:['ë‹¤ì‹œ, ì‹œë¡œ ì½ëŠ” ì„¸ìƒ','ë‚œì¥ì´ê°€ ì˜ì•„ì˜¬ë¦° ì‘ì€ ê³µ','ì–¸ì–´ì˜ ì˜¨ë„','êµì‚¬ì˜ ì‹œì„ ']},
            'ìŒì•…ê³¼':{intelligences:['ìŒì•…','ìê¸°ì„±ì°°'],subjects:{core:['ìŒì•… ì—°ì£¼','ìŒì•… ê°ìƒê³¼ ë¹„í‰'],recommended:['ì‚¬íšŒÂ·ë¬¸í™”','ì„¸ê³„ì‚¬'],career:['ê³ ì „ ì½ê¸°','ë§¤ì²´ ë¯¸ìˆ ','ë…¼ìˆ ']},books:['ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ìŒì•…ì„ ë“£ëŠ”ë‹¤','ì‚¶ì€ ì˜ˆìˆ ë¡œ ë¹›ë‚œë‹¤','í´ë˜ì‹ ìˆ˜ì—…','ìŒì•…ì˜ ê¸°ì¨']},
            'ì—°ê·¹ì˜í™”ê³¼':{intelligences:['ì‹ ì²´ìš´ë™','ì–¸ì–´','ì¸ê°„ì¹œí™”'],subjects:{core:['ì—°ê·¹','ì˜í™” ê°ìƒê³¼ ë¹„í‰','ë¬¸í•™'],recommended:['ì²´ìœ¡','ë¯¸ìˆ ','ì‚¬íšŒÂ·ë¬¸í™”'],career:['ê³ ì „ ì½ê¸°','ë§¤ì²´ ë¯¸ìˆ ','ì‹¬ë¦¬í•™']},books:['ë°°ìš°ìˆ˜ì—…','ì‚¬í”¼ì—”ìŠ¤','ìƒê°ì˜ íƒ„ìƒ','ìŠ¤í† ë¦¬, ì–´ë–»ê²Œ ì“¸ ê²ƒì¸ê°€']},
            'ë””ìì¸ê³¼':{intelligences:['ê³µê°„','ì‹ ì²´ìš´ë™'],subjects:{core:['ë¯¸ìˆ  ì°½ì‘','ë””ìì¸ ì¼ë°˜','ë¯¸ìˆ  ê°ìƒê³¼ ë¹„í‰'],recommended:['ì‚¬íšŒÂ·ë¬¸í™”','ê³¼í•™ê³¼ì œ ì—°êµ¬'],career:['ë“œë¡œì‰','ì‚¬ì§„','ë§¤ì²´ ë¯¸ìˆ ']},books:['ë””ìì¸ì˜ ë””ìì¸','ì´ê²ƒì€ ì• í”Œì´ ì•„ë‹ˆë‹¤','ì‚¬ë¬¼ì˜ ì´ë ¥','ë””ìì´ë„ˆì˜ ìƒê°ë²•; ì‹œí”„íŠ¸']},
            'ì²´ìœ¡êµìœ¡ê³¼':{intelligences:['ì‹ ì²´ìš´ë™','ì¸ê°„ì¹œí™”','ìê¸°ì„±ì°°'],subjects:{core:['ì²´ìœ¡','ìš´ë™ê³¼ ê±´ê°•','ìŠ¤í¬ì¸  ìƒí™œ'],recommended:['ìƒëª…ê³¼í•™â… ','ì‚¬íšŒÂ·ë¬¸í™”'],career:['ì¸ê°„ ë°œë‹¬','êµìœ¡í•™','ìŠ¤í¬ì¸  ê³¼í•™']},books:['ìš´ë™í™”ëŠ” ë‡Œë¥¼ ì–´ë–»ê²Œ ë³€í™”ì‹œí‚¤ëŠ”ê°€','ìŠ¤í¬ì¸ ëŠ” ì¢‹ì€ ê²ƒì¸ê°€','ëª¸ì€ ê¸°ì–µí•œë‹¤','ìŠ¤í¬ì¸  ì¸ê¶Œ']}
        };

        // --- STATE ---
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let userName = '';
        let userGrade = '';

        // --- DOM ELEMENTS ---
        const startScreen = document.getElementById('start-screen');
        const testScreen = document.getElementById('test-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const nameInput = document.getElementById('name');
        const gradeInput = document.getElementById('grade');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const questionNumber = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const answerRadios = document.querySelectorAll('input[name="answer"]');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');

        // --- FUNCTIONS ---
        function startTest(){userName=nameInput.value.trim();userGrade=gradeInput.value.trim();if(!userName||!userGrade){alert('ì´ë¦„ê³¼ í•™ë…„/ë°˜ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');return}startScreen.classList.add('hidden');testScreen.classList.remove('hidden');renderQuestion()}
        function renderQuestion(){const question=questions[currentQuestionIndex];questionNumber.textContent=currentQuestionIndex+1;questionText.textContent=question.text;const progressPercentage=((currentQuestionIndex+1)/questions.length)*100;progressBar.style.width=`${progressPercentage}%`;progressText.textContent=`${currentQuestionIndex+1} / ${questions.length}`;const savedAnswer=userAnswers[currentQuestionIndex];answerRadios.forEach(radio=>{radio.checked=radio.value==savedAnswer});prevBtn.disabled=currentQuestionIndex===0;nextBtn.classList.toggle('hidden',currentQuestionIndex===questions.length-1);submitBtn.classList.toggle('hidden',currentQuestionIndex!==questions.length-1)}
        function goToNextQuestion(){if(!saveAnswer())return;if(currentQuestionIndex<questions.length-1){currentQuestionIndex++;renderQuestion()}}
        function goToPrevQuestion(){if(currentQuestionIndex>0){currentQuestionIndex--;renderQuestion()}}
        function saveAnswer(){const selectedAnswer=document.querySelector('input[name="answer"]:checked');if(!selectedAnswer){alert('ë‹µë³€ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');return!1}userAnswers[currentQuestionIndex]=parseInt(selectedAnswer.value);return!0}
        function calculateResults(){const scores={};for(const[name,qNumbers]of Object.entries(intelligenceMap)){scores[name]=qNumbers.reduce((sum,qNum)=>sum+(userAnswers[qNum-1]||0),0)}return scores}
        function convertScore(total){if(total<=7)return 0;if(total>=35)return 100;return conversionTable[total]||0}
        function showResults(){if(!saveAnswer())return;const rawScores=calculateResults();const convertedScores={};for(const[name,score]of Object.entries(rawScores)){convertedScores[name]=convertScore(score)}const sortedIntelligences=Object.entries(convertedScores).sort((a,b)=>b[1]-a[1]);testScreen.classList.add('hidden');resultScreen.classList.remove('hidden');document.getElementById('result-name').textContent=userName;document.getElementById('result-grade').textContent=userGrade;renderChart(convertedScores);renderTopIntelligences(sortedIntelligences);renderDetailedResults(sortedIntelligences);renderCareerCompass(sortedIntelligences)}
        function renderChart(scores){const ctx=document.getElementById('miChart').getContext('2d');if(window.myChart instanceof Chart){window.myChart.destroy()}window.myChart=new Chart(ctx,{type:'bar',data:{labels:Object.keys(scores),datasets:[{label:'í™˜ì‚° ì ìˆ˜',data:Object.values(scores),backgroundColor:['rgba(239, 68, 68, 0.6)','rgba(249, 115, 22, 0.6)','rgba(234, 179, 8, 0.6)','rgba(34, 197, 94, 0.6)','rgba(59, 130, 246, 0.6)','rgba(99, 102, 241, 0.6)','rgba(168, 85, 247, 0.6)','rgba(236, 72, 153, 0.6)'],borderColor:['rgb(239, 68, 68)','rgb(249, 115, 22)','rgb(234, 179, 8)','rgb(34, 197, 94)','rgb(59, 130, 246)','rgb(99, 102, 241)','rgb(168, 85, 247)','rgb(236, 72, 153)'],borderWidth:1}]},options:{indexAxis:'y',scales:{x:{beginAtZero:!0,max:100}},plugins:{legend:{display:!1}}}})}
        function renderTopIntelligences(sorted){const container=document.getElementById('top-intelligences');container.innerHTML='';const top3=sorted.slice(0,3);const rankColors=['bg-yellow-400','bg-gray-300','bg-yellow-600'];const rankText=['1ìˆœìœ„ ê°•ì ','2ìˆœìœ„ ê°•ì ','3ìˆœìœ„ ê°•ì '];top3.forEach(([name,score],index)=>{const detail=intelligenceDetails[name];const element=document.createElement('div');element.className=`p-4 rounded-lg border-l-4 ${detail.borderColor} ${detail.color} flex items-center space-x-4`;element.innerHTML=`<div class="flex-shrink-0 w-12 h-12 ${rankColors[index]} rounded-full flex items-center justify-center text-white font-bold text-lg">${index+1}</div><div><p class="font-bold text-gray-800">${name} ì§€ëŠ¥</p><p class="text-sm text-gray-600">${rankText[index]}</p></div><div class="ml-auto text-right"><p class="font-bold text-lg text-blue-600">${score.toFixed(1)}ì </p></div>`;container.appendChild(element)})}
        function renderDetailedResults(sorted){const container=document.getElementById('intelligence-details-container');container.innerHTML='';const top3=sorted.slice(0,3);top3.forEach(([name,score])=>{const detail=intelligenceDetails[name];const element=document.createElement('div');element.className=`p-6 rounded-xl border-t-4 ${detail.borderColor} ${detail.color}`;const featuresHtml=detail.features.map(feature=>`<li class="flex items-start"><svg class="w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>${feature}</span></li>`).join('');element.innerHTML=`<h3 class="text-2xl font-bold text-gray-800 mb-4">${name} ì§€ëŠ¥</h3><div class="grid md:grid-cols-2 gap-6"><div><h4 class="font-semibold text-lg mb-2 text-gray-700">ì£¼ìš” íŠ¹ì§•</h4><ul class="space-y-2 text-gray-600">${featuresHtml}</ul></div><div><h4 class="font-semibold text-lg mb-2 text-gray-700">ì¶”ì²œ ì§ì—…êµ°</h4><p class="text-gray-600">${detail.jobs}</p></div></div>`;container.appendChild(element)})}
        
        // --- REBUILT & ACCURATE Career Compass Functions ---
        function getMajorRecommendations(sortedIntelligences) {
            const top3Intelligences = sortedIntelligences.slice(0, 3).map(item => item[0]);
            const recommendations = { priority1: [], priority2: [], priority3: [] };
            const selectedMajors = new Set();

            const findMajors = (intelligence, count) => {
                const majorsForInt = Object.entries(careerData)
                    .filter(([major, data]) => data.intelligences.includes(intelligence) && !selectedMajors.has(major))
                    .map(([major]) => major);
                
                // Shuffle for variety
                for (let i = majorsForInt.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [majorsForInt[i], majorsForInt[j]] = [majorsForInt[j], majorsForInt[i]];
                }

                const majorsToAdd = majorsForInt.slice(0, count);
                majorsToAdd.forEach(major => selectedMajors.add(major));
                return majorsToAdd;
            };

            if (top3Intelligences.length > 0) recommendations.priority1 = findMajors(top3Intelligences[0], 2);
            if (top3Intelligences.length > 1) recommendations.priority2 = findMajors(top3Intelligences[1], 1);
            if (top3Intelligences.length > 2) recommendations.priority3 = findMajors(top3Intelligences[2], 2);

            return recommendations;
        }

        function renderCareerCompass(sortedIntelligences) {
            const recommendations = getMajorRecommendations(sortedIntelligences);
            const container = document.getElementById('major-recommendation-container');
            container.innerHTML = '';

            const createMajorDetailHtml = (major, priority) => {
                const data = careerData[major];
                if (!data) return '';

                const subjectsHtml = (title, list) => `<div><h5 class="font-semibold text-md text-blue-600 mb-2">${title}</h5><div class="flex flex-wrap gap-2">${list.map(item => `<span class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full">${item}</span>`).join('')}</div></div>`;
                
                let booksToShow = [];
                if (priority === 1 || priority === 2) {
                    booksToShow = data.books.slice(0, 2);
                } else {
                    booksToShow = data.books.slice(0, 2); // Keep it consistent
                }
                const booksHtml = booksToShow.map(book => `<li class="flex items-start"><svg class="w-4 h-4 text-yellow-500 mr-2 flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg><span>${book}</span></li>`).join('');

                return `<div class="bg-white p-6 rounded-lg shadow-sm"><h5 class="text-xl font-bold text-blue-700 mb-4">${major}</h5><div class="grid md:grid-cols-2 gap-6"><div><h6 class="font-semibold text-gray-800 mb-3 text-lg">ğŸ“š ê³ êµ ì¶”ì²œ ê³¼ëª©</h6><div class="space-y-3 text-sm">${subjectsHtml('í•µì‹¬ ê¶Œì¥', data.subjects.core)}${subjectsHtml('ê¶Œì¥', data.subjects.recommended)}${subjectsHtml('ì§„ë¡œ ì„ íƒ', data.subjects.career)}</div></div><div><h6 class="font-semibold text-gray-800 mb-3 text-lg">ğŸ“– ì‹¬í™” íƒêµ¬ë¥¼ ìœ„í•œ ì¶”ì²œ ë„ì„œ</h6><ul class="space-y-2 text-sm text-gray-700">${booksHtml}</ul></div></div></div>`;
            };
            
            const createSection = (title, majors, priority) => {
                if (majors.length === 0) return '';
                const borderColors = {1: 'border-yellow-400', 2: 'border-gray-400', 3: 'border-yellow-600'};
                return `<div class="mb-8"><h4 class="text-2xl font-bold text-gray-800 mb-4 border-l-4 ${borderColors[priority]} pl-4">${title}</h4><div class="space-y-6">${majors.map(major => createMajorDetailHtml(major, priority)).join('')}</div></div>`;
            };

            let html = '';
            html += createSection('1ìˆœìœ„ ì¶”ì²œ ì „ê³µ (1ìˆœìœ„ ê°•ì  ì§€ëŠ¥ ê¸°ë°˜)', recommendations.priority1, 1);
            html += createSection('2ìˆœìœ„ ì¶”ì²œ ì „ê³µ (2ìˆœìœ„ ê°•ì  ì§€ëŠ¥ ê¸°ë°˜)', recommendations.priority2, 2);
            html += createSection('3ìˆœìœ„ ì¶”ì²œ ì „ê³µ (3ìˆœìœ„ ê°•ì  ì§€ëŠ¥ ê¸°ë°˜)', recommendations.priority3, 3);
            
            if (html.trim() === '') {
                 container.innerHTML = `<p class="text-center text-gray-500 p-4">ì¶”ì²œí•  ë§Œí•œ í•™ê³¼ ì •ë³´ë¥¼ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>`;
            } else {
                container.innerHTML = html;
            }
        }

        // --- EVENT LISTENERS ---
        startBtn.addEventListener('click', startTest);
        nextBtn.addEventListener('click', goToNextQuestion);
        prevBtn.addEventListener('click', goToPrevQuestion);
        submitBtn.addEventListener('click', showResults);
    </script>
</body>
</html>
